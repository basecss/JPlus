/** * @author  */using("Controls.Core.ICollapsable");using("Controls.Core.ContainerControl");using("Controls.Core.ScrollableControl");var Accordion = ScrollableControl.extend({		/**	 * xType	 * @type String	 */	xType: 'accordion',		collapseDuration: 200,		create:function(options){		var div = document.createElement('div');		div.className = 'x-accordion';		return div;	},		init:function(options){		this.query('>.x-accordion-panel').each(function(value){			this.controls.add(new Accordion.TabPage({				dom: value,				parent: this				}));		}, this);	},		/**	 * 包装元素为 TabPage 。	 */	initChild: function (item) {		return item instanceof Accordion.TabPage ? item : new Accordion.TabPage({			title: item || ' ',			parent: this		});	},		activedTab: null,		getActivedTab: function(){		return this.activedTab;	},		setActivedTab: function(tabPage){		if(this.activedTab === tabPage)			return;					this.activedTab.collapse();		tabPage.expand();		this.activedTab = tabPage;	}	});Accordion.TabPage = ContainerControl.extend({		parent: null,		tpl: '<div class="x-accordion-panel">\			<div class="x-accordion-header">\	                <a href="javascript:;">\	                </a>\	              </div>\				<div class="x-accordion-body">\					<div class="x-accordion-container">\					</div>\				</div>\			</div>',		init: function(options){		var me = this;		me.header = me.find('.x-accordion-header').on('click', function(e){			this.parent.setActivedTab(this);		}, me);				me.container = me.find('.x-accordion-container');		 		me.collapseDuration = options.parent.collapseDuration;				if(options.parent.activedTab){			me.addClass('x-accordion-collapsed');			me.onCollapse();		} else {			options.parent.activedTab = me;			me.onExpand();		}	},		/**	 * xType	 * @type String	 */	xType: 'accordion'	}).implement(ICollapsable);