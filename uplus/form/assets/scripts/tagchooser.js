/** * @author  */var CommonTags = Control.extend({		xType: 'commontags',		onChange: function(){		var v = ' ' + target.val() + ' ';				$(list).each(function(){			$(this)[v.indexOf(' ' + $(this).text() + ' ') === -1 ? 'removeClass' : 'addClass']('b-active');		})	},		init: function(options){				var me = this;					options.targets.on('click', function(){			var value = me.getText(), newValue = this.getText();			if(this.hasClass('b-tagchooser-actived')) {				target.setText((' ' + value + ' ').replace(' ' + newValue + ' ', ' ').trim());				$(this).removeClass('b-tagchooser-actived');			} else if((' ' + value + ' ').indexOf(' ' + newValue + ' ') === -1) {				$(this).addClass('b-tagchooser-actived');				target.setText(  (value ? value + ' ' : value) + newValue);			} else {				$(this).addClass('b-tagchooser-actived');			}		});				this.on('keyup', this.onChange);				this.onChange();			}});